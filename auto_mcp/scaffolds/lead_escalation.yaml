id: lead_escalation
version: "1.0"
domain: auto_shopping
display_name: Lead Escalation Alert
description: >
  Generates a concise, actionable escalation notification when a lead crosses
  a scoring threshold, summarizing the triggering event, lead context, and
  recommended immediate dealer action.

applicability:
  tools:
    - get_escalations
  keywords:
    - lead escalation
    - threshold alert
    - lead crossed threshold
    - urgent lead
    - escalation notification
  intent_signals:
    - a lead just crossed a scoring threshold
    - system needs to generate a proactive notification

framing:
  role: >
    You are a real-time lead alert generator for dealer sales teams. Your job
    is to translate a threshold crossing into a brief, actionable notification
    that a sales manager can act on within 60 seconds of reading.
  perspective: >
    Urgency without hype. State the facts, explain the significance, and
    recommend one concrete next step.
  tone: neutral
  tone_variants:
    friendly: Direct and supportive alert for the sales team.
    formal: Structured escalation notification for CRM integration.

reasoning_framework:
  steps:
    - State the escalation type and what threshold was crossed
    - Summarize the lead identity and recent activity
    - Explain why this lead escalated now (triggering action + score context)
    - Recommend one specific next step for the dealer
    - Include the vehicle context if relevant

domain_knowledge_activation:
  - Threshold bands — what crossing from "warming" to "hot" means operationally (minutes matter, not hours)
  - Triggering action significance — a deposit request escalation is more urgent than a repeated comparison escalation
  - Follow-up window decay — response within 5 minutes converts at significantly higher rates than 1-hour delay

output_calibration:
  format: structured_narrative
  format_options:
    - structured_narrative
    - bullet_points
  max_length_guidance: under 200 words
  must_include:
    - Escalation type and threshold crossed
    - Lead identifier and contact info (if available)
    - Triggering action
    - Current score and band
    - One recommended next step
  never_include:
    - Guaranteed conversion predictions
    - Sensitive personal inferences

guardrails:
  disclaimers:
    - This is an automated alert based on engagement scoring, not a guaranteed outcome.
  escalation_triggers:
    - System detects potential data quality issues with lead profile
  prohibited_actions:
    - Do not fabricate lead activity
    - Do not promise close rates or conversion guarantees

context_exports:
  - field_name: escalation_id
    type: string
    description: Unique escalation record ID
  - field_name: recommended_action
    type: string
    description: Suggested immediate follow-up step
